---
import Layout from "../../layouts/Layout.astro";
import { posts } from "../../data/posts";

export function getStaticPaths() {
    return posts.map((post) => ({
        params: { id: post.id },
        props: { post },
    }));
}

const { post } = Astro.props;
---

<Layout title={`${post.title} | Journal`}>
    <main class="pt-52 pb-24 px-6 min-h-screen">
        <article class="max-w-5xl mx-auto">
            <div class="mb-8">
                <a
                    href="/blog"
                    class="inline-flex items-center gap-2 text-[10px] uppercase tracking-widest text-gray-500 hover:text-white transition"
                >
                    <span>←</span> Volver al Journal
                </a>
            </div>

            <header
                class="flex flex-col md:flex-row gap-12 items-start border-b border-white/10 pb-12 mb-12"
            >
                <div class="w-full md:w-1/2 space-y-6">
                    <div
                        class="flex items-center gap-3 text-[10px] uppercase tracking-widest text-gray-400"
                    >
                        <span class="text-white bg-white/10 px-2 py-1"
                            >{post.category}</span
                        >
                        <span>{post.date}</span>
                    </div>

                    <h1
                        class="text-4xl md:text-5xl font-bold text-white uppercase leading-[0.9] tracking-tighter"
                    >
                        {post.title}
                    </h1>

                    <p
                        class="text-lg text-gray-400 font-light leading-relaxed border-l border-white/20 pl-4"
                    >
                        {post.excerpt}
                    </p>
                </div>

                <div class="w-full md:w-1/2">
                    <div
                        class="aspect-video w-full overflow-hidden border border-white/10 bg-zinc-900 shadow-2xl relative group"
                    >
                        <div
                            class="absolute inset-0 bg-gradient-to-tr from-black/40 to-transparent z-10 pointer-events-none"
                        >
                        </div>

                        <img
                            src={post.image}
                            alt={post.title}
                            class="w-full h-full object-cover group-hover:scale-105 transition duration-1000"
                            transition:name={`post-img-${post.id}`}
                        />
                    </div>
                    <p
                        class="text-[10px] text-gray-600 text-right mt-2 uppercase tracking-widest"
                    >
                        Fig 1.0 — {post.title}
                    </p>
                </div>
            </header>

            <div
                class="prose prose-invert prose-lg max-w-3xl mx-auto
                prose-p:text-gray-400 prose-p:font-light prose-p:leading-8
                prose-headings:text-white prose-headings:uppercase prose-headings:tracking-tight prose-headings:font-bold prose-headings:mt-16
                prose-strong:text-white
                prose-li:text-gray-400"
            >
                <div set:html={post.content} />
            </div>

            <div
                class="max-w-3xl mx-auto mt-20 pt-8 border-t border-white/10 flex justify-center opacity-50"
            >
                <p class="text-[10px] text-gray-500 uppercase tracking-[0.3em]">
                    End of Transmission
                </p>
            </div>
        </article>
    </main>
</Layout>
